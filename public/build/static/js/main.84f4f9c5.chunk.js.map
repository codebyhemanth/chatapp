{"version":3,"sources":["login/styles.js","login/login.js","signup/styles.js","signup/signup.js","NewChat/styles.js","NewChat/newChat.js","chatList/styles.js","chatList/chatList.js","ChatView/styles.js","ChatView/chatView.js","ChatTextBox/styles.js","ChatTextBox/chatTextBox.js","dashboard/styles.js","dashboard/dashboard.js","index.js"],"names":["styles","theme","main","width","display","marginLeft","spacing","unit","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","form","submit","noAccountHeader","signUpLink","textDecoration","color","fontWeight","errorText","textAlign","firebase","require","loginComponent","userTyping","whichInput","event","setState","email","target","value","password","submitLogin","e","a","preventDefault","auth","signInWithEmailAndPassword","state","then","props","history","push","err","serverError","console","log","classes","this","className","CssBaseline","Paper","Typography","component","variant","onSubmit","FormControl","required","fullWidth","margin","InputLabel","htmlFor","Input","autoComplete","autoFocus","onChange","id","type","Button","to","React","Component","withStyles","hasAccountHeader","logInLink","signupComponent","passwordConfirmation","formIsValid","submitSignup","createUserWithEmailAndPassword","authRes","userObj","user","friends","messages","firestore","collection","doc","set","dbErr","signupError","authErr","position","top","left","input","NewChatComponent","inputType","username","message","submitNewChat","userExists","chatExists","goToChat","createChat","buildDocKey","currentUser","sort","join","newChatSubmitFn","sendTo","goToChatFn","docKey","get","chat","exists","usersSnapshot","docs","map","_doc","data","includes","root","backgroundColor","palette","background","height","boxShadow","listItem","cursor","newChatBtn","borderRadius","unreadMessage","right","ChatListComponent","userIsSender","length","sender","userEmail","newChat","newChatBtnFn","selectChat","index","selectChatFn","chats","onClick","List","_chat","_index","ListItem","selected","selectedChatIndex","ListItemAvatar","Avatar","alt","users","filter","_user","split","ListItemText","primary","secondary","Fragment","substring","receiverHasRead","ListItemIcon","Divider","content","overflow","boxSizing","overflowY","userSent","float","clear","wordWrap","friendSent","chatHeader","fontSize","paddingTop","ChatViewComponent","componentDidMount","container","document","getElementById","scrollTo","scrollHeight","componentDidUpdate","undefined","_usr","_msg","sendBtn","chatTextBoxContainer","bottom","chatTextBox","ChatTextBoxComponent","keyCode","submitMessage","chatText","messageValid","txt","replace","userClickedInput","userClickedInputFn","submitMessageFn","TextField","placeholder","onKeyUp","onFocus","signOutBtn","DashboardComponent","signOut","msg","selectedChat","update","FieldValue","arrayUnion","timestamp","Date","now","friend","newChatBtnClicked","newChatFormVisible","newChatSubmit","chatObj","chatIndex","messageRead","usersInChat","find","every","indexOf","clickedMessageWhereNotSender","componentWillMount","onAuthStateChanged","where","onSnapshot","res","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","routing","path","dashboardComponent","ReactDOM","render"],"mappings":"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","file":"static/js/main.84f4f9c5.chunk.js","sourcesContent":["const styles = theme => ({\n    main: {\n      width: 'auto',\n      display: 'block', // Fix IE 11 issue.\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3,\n      [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n        width: 400,\n        marginLeft: 'auto',\n        marginRight: 'auto',\n      },\n    },\n    paper: {\n      marginTop: theme.spacing.unit * 8,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n    },\n    form: {\n      width: '100%',\n      marginTop: theme.spacing.unit,\n    },\n    submit: {\n      marginTop: theme.spacing.unit * 3,\n    },\n    noAccountHeader: {\n      width: '100%'\n    },\n    signUpLink: {\n      width: '100%',\n      textDecoration: 'none',\n      color: '#303f9f',\n      fontWeight: 'bolder'\n    },\n    errorText: {\n      color: 'red',\n      textAlign: 'center'\n    }\n  });\n  \n  export default styles;","import { Link } from 'react-router-dom';\nimport React from 'react';\nimport styles from './styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport Paper from '@material-ui/core/Paper';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nconst firebase = require(\"firebase\");\n\nclass loginComponent extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      email: null,\n      password: null,\n      serverError: false\n    };\n  }\n\n  render() {\n\n    const { classes } = this.props;\n\n    return (\n      <main className={classes.main}>\n        <CssBaseline/>\n        <Paper className={classes.paper}>\n          <Typography component=\"h1\" variant=\"h5\">\n            Log In!\n          </Typography>\n          <form onSubmit={(e) => this.submitLogin(e)} className={classes.form}>\n            <FormControl required fullWidth margin='normal'>\n              <InputLabel htmlFor='login-email-input'>Enter Your Email</InputLabel>\n              <Input autoComplete='email' autoFocus onChange={(e) => this.userTyping('email', e)} id='login-email-input'></Input>\n            </FormControl>\n            <FormControl required fullWidth margin='normal'>\n              <InputLabel htmlFor='login-password-input'>Enter Your Password</InputLabel>\n              <Input autoComplete=\"current-password\" type=\"password\" onChange={(e) => this.userTyping('password', e)} id='login-password-input'></Input>\n            </FormControl>\n            <Button type='submit' fullWidth variant='contained' color='primary' className={classes.submit}>Log In</Button>\n          </form>\n          { this.state.serverError ? \n            <Typography className={classes.errorText} component='h5' variant='h6'>\n              Incorrect Login Information\n            </Typography> :\n            null\n          }\n          <h5 className={classes.noAccountHeader}>Don't Have An Account?</h5>\n          <Link className={classes.signUpLink} to='/signup'>Sign Up!</Link>\n        </Paper>\n      </main>\n    );\n  }\n\n  userTyping = (whichInput, event) => {\n    switch (whichInput) {\n      case 'email':\n        this.setState({ email: event.target.value });\n        break;\n\n      case 'password':\n        this.setState({ password: event.target.value });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  submitLogin = async (e) => {\n    e.preventDefault(); // This is to prevent the automatic refreshing of the page on submit.\n\n    await firebase\n      .auth()\n      .signInWithEmailAndPassword(this.state.email, this.state.password)\n      .then(() => {\n        this.props.history.push('/dashboard');\n      }, err => {\n        this.setState({ serverError: true });\n        console.log('Error logging in: ', err);\n      });\n  };\n\n}\n\nexport default withStyles(styles)(loginComponent);","const styles = theme => ({\n    main: {\n      width: 'auto',\n      display: 'block', // Fix IE 11 issue.\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3,\n      [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n        width: 400,\n        marginLeft: 'auto',\n        marginRight: 'auto',\n      },\n    },\n    paper: {\n      marginTop: theme.spacing.unit * 8,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n    },\n    form: {\n      width: '100%',\n      marginTop: theme.spacing.unit,\n    },\n    submit: {\n      marginTop: theme.spacing.unit * 3,\n    },\n    hasAccountHeader: {\n      width: '100%'\n    },\n    logInLink: {\n      width: '100%',\n      textDecoration: 'none',\n      color: '#303f9f',\n      fontWeight: 'bolder'\n    },\n    errorText: {\n      color: 'red',\n      textAlign: 'center'\n    }\n  });\n  \n  export default styles;","import { Link } from 'react-router-dom';\nimport React from 'react';\nimport styles from './styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport Paper from '@material-ui/core/Paper';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nconst firebase = require(\"firebase\");\n\n\n\n\nclass signupComponent extends React.Component{\n    constructor() {\n        super();\n        this.state = {\n          email: null,\n          password: null,\n          passwordConfirmation: null,\n          signupError: ''\n        };\n      }\n    render(){\n        const {classes}=this.props;\n        return( <main className={classes.main}>\n            <CssBaseline/>\n            <Paper className={classes.paper}>\n              <Typography component=\"h1\" variant=\"h5\">\n                Sign Up!\n              </Typography>\n              <form onSubmit={(e) => this.submitSignup(e)} className={classes.form}>\n                <FormControl required fullWidth margin='normal'>\n                  <InputLabel htmlFor='signup-email-input'>Enter Your Email</InputLabel>\n                  <Input autoComplete='email' autoFocus onChange={(e) => this.userTyping('email', e)} id='signup-email-input'></Input>\n                </FormControl>\n                <FormControl required fullWidth margin='normal'>\n                  <InputLabel htmlFor='signup-password-input'>Create A Password</InputLabel>\n                  <Input type=\"password\" onChange={(e) => this.userTyping('password', e)} id='signup-password-input'></Input>\n                </FormControl>\n                <FormControl required fullWidth margin='normal'>\n                  <InputLabel htmlFor='signup-password-confirmation-input'>Confirm Your Password</InputLabel>\n                  <Input type=\"password\" onChange={(e) => this.userTyping('passwordConfirmation', e)} id='signup-password-confirmation-input'></Input>\n                </FormControl>\n                <Button type='submit' fullWidth variant='contained' color='primary' className={classes.submit}>Submit</Button>\n              </form>\n              { \n                this.state.signupError ? \n                <Typography className={classes.errorText} component='h5' variant='h6'>\n                  {this.state.signupError}\n                </Typography> :\n                null\n              }\n              <h5 className={classes.hasAccountHeader}>Already Have An Account?</h5>\n              <Link className={classes.logInLink} to='/login'>Log In!</Link>\n            </Paper>\n          </main>)\n    }\n\n  userTyping = (whichInput, event) => {\n    switch (whichInput) {\n      case 'email':\n        this.setState({ email: event.target.value });\n        break;\n\n      case 'password':\n        this.setState({ password: event.target.value });\n        break;\n\n      case 'passwordConfirmation':\n        this.setState({ passwordConfirmation: event.target.value });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  formIsValid = () => this.state.password === this.state.passwordConfirmation;\n\n  submitSignup = (e) => {\n    e.preventDefault(); // This is to prevent the automatic refreshing of the page on submit.\n\n    if(!this.formIsValid()) {\n      this.setState({ signupError: 'Passwords do not match' });\n      return;\n    }\n\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(this.state.email, this.state.password)\n      .then(authRes => {\n        const userObj = {\n          email: authRes.user.email,\n          friends: [],\n          messages: []\n        };\n        firebase\n          .firestore()\n          .collection('users')\n          .doc(this.state.email)\n          .set(userObj)\n          .then(() => {\n            this.props.history.push('/dashboard');\n        }, dbErr => {\n          console.log('Failed to add user to the database: ', dbErr);\n          this.setState({ signupError: 'Failed to add user' });\n        });\n    }, authErr => {\n      console.log('Failed to create user: ', authErr);\n      this.setState({ signupError: 'Failed to add user' });\n    });\n}\n}\n\nexport default withStyles(styles)(signupComponent);","const styles = theme => ({\n    main: {\n      width: 'auto',\n      display: 'block', // Fix IE 11 issue.\n      marginLeft: theme.spacing.unit * 3,\n      marginRight: theme.spacing.unit * 3,\n      [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n        width: 400,\n        marginLeft: 'auto',\n        marginRight: 'auto',\n      },\n    },\n    paper: {\n      padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme.spacing.unit * 3}px`,\n      position: 'absolute',\n      width: '350px',\n      top: '50px',\n      left: 'calc(50% + 150px - 175px)'\n    },\n    input: {\n    },\n    form: {\n      width: '100%',\n      marginTop: theme.spacing.unit,\n    },\n    submit: {\n      marginTop: theme.spacing.unit * 3\n    },\n    errorText: {\n      color: 'red',\n      textAlign: 'center'\n    }\n  });\n  \n  export default styles;","import React from 'react';\nimport { FormControl, InputLabel, Input, Button, Paper, withStyles, CssBaseline, Typography } from '@material-ui/core';\nimport styles from './styles';\nconst firebase = require(\"firebase\");\n\nclass NewChatComponent extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      username: null,\n      message: null\n    };\n  }\n\n  render() {\n\n    const { classes } = this.props;\n\n    return(\n      <main className={classes.main}>\n        <CssBaseline/>\n        <Paper className={classes.paper}>\n          <Typography component=\"h1\" variant=\"h5\">Send A Message!</Typography>\n          <form className={classes.form} onSubmit={(e) => this.submitNewChat(e)}>\n            <FormControl fullWidth>\n              <InputLabel htmlFor='new-chat-username'>\n                  Enter Your Friend's Email\n              </InputLabel>\n              <Input required \n                className={classes.input}\n                autoFocus \n                onChange={(e) => this.userTyping('username', e)} \n                id='new-chat-username'>\n              </Input>\n            </FormControl>\n            <FormControl fullWidth>\n              <InputLabel htmlFor='new-chat-message'>\n                  Enter Your Message\n              </InputLabel>\n              <Input required \n                className={classes.input}\n                onChange={(e) => this.userTyping('message', e)} \n                id='new-chat-message'>\n              </Input>\n            </FormControl>\n            <Button fullWidth variant='contained' color='primary' className={classes.submit} type='submit'>Send</Button>\n          </form>\n          {\n            this.state.serverError ? \n            <Typography component='h5' variant='h6' className={classes.errorText}>\n              Unable to locate the user\n            </Typography> :\n            null\n          }\n        </Paper>\n      </main>\n    );\n  }\n\n  componentWillMount() {\n    if(!firebase.auth().currentUser)\n      this.props.history.push('/login');\n  }\n\n  userTyping = (inputType, e) => {\n    switch (inputType) {\n      case 'username':\n        this.setState({ username: e.target.value });\n        break;\n      \n      case 'message':\n        this.setState({ message: e.target.value });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  submitNewChat = async (e) => {\n    e.preventDefault();\n    const userExists = await this.userExists();\n    if(userExists) {\n      const chatExists = await this.chatExists();\n      chatExists ? this.goToChat() : this.createChat();\n    }\n  }\n\n  buildDocKey = () => [firebase.auth().currentUser.email, this.state.username].sort().join(':');\n\n  createChat = () => {\n    this.props.newChatSubmitFn({\n      sendTo: this.state.username,\n      message: this.state.message\n    });\n  }\n\n  goToChat = () => this.props.goToChatFn(this.buildDocKey(), this.state.message);\n\n  chatExists = async () => {\n    const docKey = this.buildDocKey();\n    const chat = await \n      firebase\n      .firestore()\n      .collection('chats')\n      .doc(docKey)\n      .get();\n    console.log(chat.exists);\n    return chat.exists;\n  }\n  userExists = async () => {\n    const usersSnapshot = await \n    firebase\n      .firestore()\n      .collection('users')\n      .get();\n    const exists = usersSnapshot\n      .docs\n        .map(_doc => _doc.data().email)\n        .includes(this.state.username);\n    this.setState({ serverError: !exists });\n    return exists;\n  }\n}\n\nexport default withStyles(styles)(NewChatComponent);","\nconst styles = theme => ({\n    root: {\n      backgroundColor: theme.palette.background.paper,\n      height: 'calc(100% - 35px)',\n      position: 'absolute',\n      left: '0',\n      width: '300px',\n      boxShadow: '0px 0px 2px black'\n    },\n    listItem: {\n      cursor: 'pointer'\n    },\n    newChatBtn: {\n      borderRadius: '0px'\n    },\n    unreadMessage: {\n      color: 'red',\n      position: 'absolute',\n      top: '0',\n      right: '5px'\n    }\n  });\n  \n  export default styles;","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport styles from './styles';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\n\nimport NotificationsIcon from '@material-ui/icons/Notifications';\n\nclass ChatListComponent extends React.Component {\n\n  render() {\n\n    const { classes } = this.props;\n\n    if(this.props.chats.length > 0) {\n      return(\n        <div className={classes.root}>\n            <Button variant=\"contained\" \n              fullWidth \n              color='primary' \n              onClick={this.newChat} \n              className={classes.newChatBtn}>\n                New Message\n            </Button>\n            <List>\n              {\n                this.props.chats.map((_chat, _index) => {\n                  return (\n                    <div key={_index}>\n                      <ListItem onClick={() => this.selectChat(_index)} \n                        className={classes.listItem} \n                        selected={this.props.selectedChatIndex === _index} \n                        alignItems=\"flex-start\">\n                        <ListItemAvatar>\n                          <Avatar alt=\"Remy Sharp\">{_chat.users.filter(_user => _user !== this.props.userEmail)[0].split('')[0]}</Avatar>\n                        </ListItemAvatar>\n                        <ListItemText \n                          primary={_chat.users.filter(_user => _user !== this.props.userEmail)[0]}\n                          secondary={\n                            <React.Fragment>\n                              <Typography component='span'\n                                color='textPrimary'>\n                                  {_chat.messages[_chat.messages.length - 1].message.substring(0, 30) + ' ...'}\n                              </Typography>\n                            </React.Fragment>\n                          }/>\n                          {\n                            _chat.receiverHasRead === false && !this.userIsSender(_chat) ? \n                            <ListItemIcon><NotificationsIcon className={classes.unreadMessage}></NotificationsIcon></ListItemIcon> :\n                            null\n                          }\n                      </ListItem>\n                      <Divider/>\n                    </div>\n                  )\n                })\n              }\n            </List>\n        </div>\n      );\n    } else {\n      return(\n        <div className={classes.root}>\n          <Button variant=\"contained\" \n            fullWidth \n            color='primary' \n            onClick={this.newChat} \n            className={classes.newChatBtn}>\n              New Message\n          </Button>\n          <List></List>\n        </div>\n      );\n    }\n  }\n  userIsSender = (chat) => chat.messages[chat.messages.length - 1].sender === this.props.userEmail;\n  newChat = () => this.props.newChatBtnFn();\n  selectChat = (index) => this.props.selectChatFn(index);\n}\n\nexport default withStyles(styles)(ChatListComponent);","const styles = theme => ({\n\n    content: {\n      height: 'calc(100vh - 100px)',\n      overflow: 'auto',\n      padding: '25px',\n      marginLeft: '300px',\n      boxSizing: 'border-box',\n      overflowY: 'scroll',\n      top: '50px',\n      width: 'calc(100% - 300px)',\n      position: 'absolute'\n    },\n  \n    userSent: {\n      float: 'right',\n      clear: 'both',\n      padding: '20px',\n      boxSizing: 'border-box',\n      wordWrap: 'break-word',\n      marginTop: '10px',\n      backgroundColor: '#707BC4',\n      color: 'white',\n      width: '300px',\n      borderRadius: '10px'\n    },\n  \n    friendSent: {\n      float: 'left',\n      clear: 'both',\n      padding: '20px',\n      boxSizing: 'border-box',\n      wordWrap: 'break-word',\n      marginTop: '10px',\n      backgroundColor: '#707BC4',\n      color: 'white',\n      width: '300px',\n      borderRadius: '10px'\n    },\n  \n    chatHeader: {\n      width: 'calc(100% - 301px)',\n      height: '50px',\n      backgroundColor: '#344195',\n      position: 'fixed',\n      marginLeft: '301px',\n      fontSize: '18px',\n      textAlign: 'center',\n      color: 'white',\n      paddingTop: '10px',\n      boxSizing: 'border-box'\n    }\n  \n  });\n  \n  export default styles;","import React from 'react';\nimport styles from './styles';\nimport { withStyles } from '@material-ui/core/styles';\n\nclass ChatViewComponent extends React.Component {\n\n  componentDidMount = () => {\n    const container = document.getElementById('chatview-container');\n    if(container)\n      container.scrollTo(0, container.scrollHeight);\n  }\n  componentDidUpdate = () => {\n    const container = document.getElementById('chatview-container');\n    if(container)\n      container.scrollTo(0, container.scrollHeight);\n  }\n\n  render() {\n\n    const { classes } = this.props;\n\n    if(this.props.chat === undefined) {\n      return(<main className={classes.content}></main>);\n    } else if(this.props.chat !== undefined) {\n      return(\n        <div>\n          <div className={classes.chatHeader}>\n            Your conversation with {this.props.chat.users.filter(_usr => _usr !== this.props.user)[0]}\n          </div>\n          <main id='chatview-container' className={classes.content}>\n            {\n              this.props.chat.messages.map((_msg, _index) => {\n                return(\n                <div key={_index} className={_msg.sender === this.props.user ? classes.userSent : classes.friendSent}>\n                  {_msg.message}\n                </div>\n                )\n              })\n            }\n          </main>\n        </div>\n      );\n    } else {\n      return (<div className='chatview-container'>Loading...</div>);\n    }\n  }\n}\n\nexport default withStyles(styles)(ChatViewComponent);","const styles = theme => ({\n\n    sendBtn: {\n      color: 'blue',\n      cursor: 'pointer',\n      '&:hover': {\n        color: 'gray'\n      }\n    },\n  \n    chatTextBoxContainer: {\n      position: 'absolute',\n      bottom: '15px',\n      left: '315px',\n      boxSizing: 'border-box',\n      overflow: 'auto',\n      width: 'calc(100% - 300px - 50px)'\n    },\n  \n    chatTextBox: {\n      width: 'calc(100% - 25px)'\n    }\n  \n  });\n  \n  export default styles;","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Send from '@material-ui/icons/Send';\nimport styles from './styles';\nimport { withStyles } from '@material-ui/core/styles';\n\nclass ChatTextBoxComponent extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      chatText: ''\n    };\n  }\n\n  render() {\n\n    const { classes } = this.props;\n\n    return(\n      <div className={classes.chatTextBoxContainer}>\n        <TextField\n          placeholder='Type your message..' \n          onKeyUp={(e) => this.userTyping(e)}\n          id='chattextbox' \n          className={classes.chatTextBox}\n          onFocus={this.userClickedInput}>\n        </TextField>\n        <Send onClick={this.submitMessage} className={classes.sendBtn}></Send>\n      </div>\n    );\n  }\n  userTyping = (e) => e.keyCode === 13 ? this.submitMessage() : this.setState({ chatText: e.target.value });\n  messageValid = (txt) => txt && txt.replace(/\\s/g, '').length;\n  userClickedInput = () => this.props.userClickedInputFn();\n  submitMessage = () => {\n    if(this.messageValid(this.state.chatText)) {\n      this.props.submitMessageFn(this.state.chatText);\n      document.getElementById('chattextbox').value = '';\n    }\n  }\n}\n\nexport default withStyles(styles)(ChatTextBoxComponent);","const styles = theme => ({\n    signOutBtn: {\n      position: 'absolute',\n      bottom: '0px',\n      left: '0px',\n      width: '300px',\n      borderRadius: '0px',\n      backgroundColor: '#227092',\n      height: '35px',\n      boxShadow: '0px 0px 2px black',\n      color: 'white'\n    }\n  });\n  \n  export default styles;","import React from 'react';\nimport NewChatComponent from '../NewChat/newChat';\nimport ChatListComponent from '../chatList/chatList';\nimport ChatViewComponent from '../ChatView/chatView';\nimport ChatTextBoxComponent from '../ChatTextBox/chatTextBox';\nimport styles from './styles';\nimport { Button, withStyles } from '@material-ui/core';\nconst firebase = require(\"firebase\");\n\n// I need to investigate why sometimes\n// two messages will send instead of just\n// one. I dont know if there are two instances\n// of the chat box component or what...\n\n// I will be using both .then and async/await\n// in this tutorial to give a feel of both.\n\nclass DashboardComponent extends React.Component {\n\n  constructor() {\n    super();\n    this.state = {\n      selectedChat: null,\n      newChatFormVisible: false,\n      email: null,\n      friends: [],\n      chats: []\n    };\n  }\n\n  render() {\n\n    const { classes } = this.props;\n\n    if(this.state.email) {\n      return(\n        <div className='dashboard-container' id='dashboard-container'>\n          <ChatListComponent history={this.props.history} \n            userEmail={this.state.email} \n            selectChatFn={this.selectChat} \n            chats={this.state.chats} \n            selectedChatIndex={this.state.selectedChat}\n            newChatBtnFn={this.newChatBtnClicked}>\n          </ChatListComponent>\n          {\n            this.state.newChatFormVisible ? null : <ChatViewComponent \n              user={this.state.email} \n              chat={this.state.chats[this.state.selectedChat]}>\n            </ChatViewComponent>\n          }\n          { \n            this.state.selectedChat !== null && !this.state.newChatFormVisible ? <ChatTextBoxComponent userClickedInputFn={this.messageRead} submitMessageFn={this.submitMessage}></ChatTextBoxComponent> : null \n          }\n          {\n            this.state.newChatFormVisible ? <NewChatComponent goToChatFn={this.goToChat} newChatSubmitFn={this.newChatSubmit}></NewChatComponent> : null\n          }\n          <Button onClick={this.signOut} className={classes.signOutBtn}>Sign Out</Button>\n        </div>\n      );\n    } else {\n      return(<div>LOADING....</div>);\n    }\n  }\n\n  signOut = () => firebase.auth().signOut();\n\n  submitMessage = (msg) => {\n    const docKey = this.buildDocKey(this.state.chats[this.state.selectedChat]\n      .users\n      .filter(_usr => _usr !== this.state.email)[0])\n    firebase\n      .firestore()\n      .collection('chats')\n      .doc(docKey)\n      .update({\n        messages: firebase.firestore.FieldValue.arrayUnion({\n          sender: this.state.email,\n          message: msg,\n          timestamp: Date.now()\n        }),\n        receiverHasRead: false\n      });\n  }\n\n  // Always in alphabetical order:\n  // 'user1:user2'\n  buildDocKey = (friend) => [this.state.email, friend].sort().join(':');\n\n  newChatBtnClicked = () => this.setState({ newChatFormVisible: true, selectedChat: null });\n\n  newChatSubmit = async (chatObj) => {\n    const docKey = this.buildDocKey(chatObj.sendTo);\n    await \n      firebase\n        .firestore()\n        .collection('chats')\n        .doc(docKey)\n        .set({\n          messages: [{\n            message: chatObj.message,\n            sender: this.state.email\n          }],\n          users: [this.state.email, chatObj.sendTo],\n          receiverHasRead: false\n        })\n    this.setState({ newChatFormVisible: false });\n    this.selectChat(this.state.chats.length - 1);\n  }\n\n  selectChat = async (chatIndex) => {\n    await this.setState({ selectedChat: chatIndex, newChatFormVisible: false });\n    this.messageRead();\n  }\n\n  goToChat = async (docKey, msg) => {\n    const usersInChat = docKey.split(':');\n    const chat = this.state.chats.find(_chat => usersInChat.every(_user => _chat.users.includes(_user)));\n    this.setState({ newChatFormVisible: false });\n    await this.selectChat(this.state.chats.indexOf(chat));\n    this.submitMessage(msg);\n  }\n\n  // Chat index could be different than the one we are currently on in the case\n  // that we are calling this function from within a loop such as the chatList.\n  // So we will set a default value and can overwrite it when necessary.\n  messageRead = () => {\n    const chatIndex = this.state.selectedChat;\n    const docKey = this.buildDocKey(this.state.chats[chatIndex].users.filter(_usr => _usr !== this.state.email)[0]);\n    if(this.clickedMessageWhereNotSender(chatIndex)) {\n      firebase\n        .firestore()\n        .collection('chats')\n        .doc(docKey)\n        .update({ receiverHasRead: true });\n    } else {\n      console.log('Clicked message where the user was the sender');\n    }\n  }\n\n  clickedMessageWhereNotSender = (chatIndex) => this.state.chats[chatIndex].messages[this.state.chats[chatIndex].messages.length - 1].sender !== this.state.email;\n\n  componentWillMount = () => {\n      firebase.auth().onAuthStateChanged(async _usr => {\n        if(!_usr)\n          this.props.history.push('/login');\n        else {\n          await firebase\n            .firestore()\n            .collection('chats')\n            .where('users', 'array-contains', _usr.email)\n            .onSnapshot(async res => {\n              const chats = res.docs.map(_doc => _doc.data());\n              await this.setState({\n                email: _usr.email,\n                chats: chats,\n                friends: []\n              });\n            })\n        }\n    });\n  }\n}\n\nexport default withStyles(styles)(DashboardComponent);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport { Route,BrowserRouter as Router } from 'react-router-dom';\nimport loginComponent from './login/login';\nimport signupComponent from './signup/signup';\nimport dashboardComponent from './dashboard/dashboard';\n\nconst firebase =require('firebase');\nrequire(\"firebase/firestore\");\nfirebase.initializeApp({\n  apiKey: \"AIzaSyCCnxItOzY_fBxW1VDiRFd3r5XdBLlRKfM\",\n  authDomain: \"chatapp-7bddb.firebaseapp.com\",\n  databaseURL: \"https://chatapp-7bddb.firebaseio.com\",\n  projectId: \"chatapp-7bddb\",\n  storageBucket: \"chatapp-7bddb.appspot.com\",\n  messagingSenderId: \"1008472640668\",\n  appId: \"1:1008472640668:web:9a0c5e32a4548778d23159\",\n  measurementId: \"G-9GHRRTJ41X\"\n})\nconst routing=(\n  <Router>\n    <div id=\"routing-container\">\n      <Route path='/login' component={loginComponent}>\n\n      </Route>\n      <Route path=\"/signup\" component={signupComponent}></Route>\n      <Route path=\"/dashboard\" component={dashboardComponent}></Route>\n    </div>\n  </Router>\n)\n\nReactDOM.render(\n\n    routing\n ,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}